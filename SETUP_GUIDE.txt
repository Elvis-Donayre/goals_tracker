# ğŸš€ GuÃ­a RÃ¡pida de Setup - Habit Tracker

Esta es una guÃ­a paso a paso para configurar el proyecto desde cero.

## âœ… Pre-requisitos

- Python 3.8 o superior
- Git
- Cuenta de email vÃ¡lida (para Supabase)

## ğŸ“‹ Paso 1: Configurar Supabase

### 1.1 Crear proyecto en Supabase

1. Ve a [supabase.com](https://supabase.com)
2. Click en **"Start your project"**
3. Inicia sesiÃ³n con GitHub o email
4. Click en **"New Project"**
5. ConfiguraciÃ³n:
   - **Name**: `habit-tracker`
   - **Database Password**: (Genera una segura y guÃ¡rdala)
   - **Region**: Elige la mÃ¡s cercana
6. Click **"Create new project"**
7. â³ Espera 1-2 minutos mientras se crea

### 1.2 Ejecutar el SQL

1. En el proyecto creado, ve al menÃº lateral â†’ **SQL Editor**
2. Abre el archivo `12_SQL_ACTUALIZADO.md` de este repositorio
3. Copia **TODO** el contenido (desde la lÃ­nea 27 hasta el final)
4. PÃ©galo en el editor SQL de Supabase
5. Click en el botÃ³n **[â–¶ Run]** (esquina superior derecha)
6. âœ… DeberÃ­as ver "Success. No rows returned"

### 1.3 Obtener credenciales

1. En Supabase, ve al menÃº lateral â†’ **Settings** (âš™ï¸)
2. Click en **API**
3. Copia estos dos valores:

   - **Project URL** (ej: `https://abcdefgh.supabase.co`)
   - **anon public** (la clave larga que dice "anon")

https://hpimobtsrdofvfjiufzd.supabase.co
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwaW1vYnRzcmRvZnZmaml1ZnpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0MjE4NTQsImV4cCI6MjA4Mjk5Nzg1NH0.qASZeDAQsoHf5qqz5TKajaf5ebFagCA9vNZIExgGrKg


   âš ï¸ **IMPORTANTE**: Copia la clave `anon`, NO la `service_role`

4. GuÃ¡rdalos en un lugar seguro (los necesitarÃ¡s en el paso 3)

### 1.4 Verificar que todo estÃ¡ bien

1. En Supabase, ve a **Table Editor**
2. DeberÃ­as ver estas tablas:
   - âœ… users
   - âœ… categories
   - âœ… user_categories
   - âœ… habits
   - âœ… activities
   - âœ… habit_activities
   - âœ… sessions
   - âœ… habit_metrics
   - âœ… habit_changes_log

Si ves todas estas tablas, Â¡perfecto! ContinÃºa al paso 2.

## ğŸ“¦ Paso 2: Configurar el Proyecto Local

### 2.1 Clonar el repositorio

```bash
git clone <url-del-repositorio>
cd goals_tracker
```

### 2.2 Crear entorno virtual

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

**Linux/Mac:**
```bash
python3 -m venv venv
source venv/bin/activate
```

DeberÃ­as ver `(venv)` al inicio de tu terminal.

### 2.3 Instalar dependencias

```bash
pip install -r requirements.txt
```

Esto instalarÃ¡:
- streamlit
- supabase
- plotly
- pandas
- python-dotenv
- pydantic
- pytz

â³ Espera 1-2 minutos.

## ğŸ” Paso 3: Configurar Variables de Entorno

### 3.1 Crear archivo .env

**Windows:**
```bash
copy .env.example .env
```

**Linux/Mac:**
```bash
cp .env.example .env
```

### 3.2 Editar .env

Abre `.env` con tu editor favorito y reemplaza:

```
SUPABASE_URL=https://abcdefgh.supabase.co  # â† Pega tu URL aquÃ­
SUPABASE_KEY=eyJhbGc...tu_clave_anon_aqui  # â† Pega tu clave anon aquÃ­
```

**Ejemplo real:**
```
SUPABASE_URL=https://xyzproject.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

âš ï¸ **IMPORTANTE**:
- NO compartas este archivo
- NO lo subas a Git (ya estÃ¡ en .gitignore)
- Usa la clave `anon`, no `service_role`

## ğŸš€ Paso 4: Ejecutar la AplicaciÃ³n

```bash
streamlit run main.py
```

DeberÃ­as ver:

```
You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.x.x:8501
```

La aplicaciÃ³n se abrirÃ¡ automÃ¡ticamente en tu navegador.

## ğŸ‘¤ Paso 5: Crear tu Primera Cuenta

1. En la aplicaciÃ³n, ve a la pestaÃ±a **"ğŸ“ Registrarse"**
2. Completa:
   - Nombre completo
   - Email (vÃ¡lido)
   - ContraseÃ±a (mÃ­n. 8 caracteres, mayÃºsculas, minÃºsculas, nÃºmeros)
   - Confirmar contraseÃ±a
3. Click **"ğŸš€ Crear Cuenta"**
4. âœ… VerÃ¡s mensaje de Ã©xito
5. **Importante**: Revisa tu email y confirma tu cuenta
6. Vuelve a la pestaÃ±a **"ğŸ”‘ Iniciar SesiÃ³n"**
7. Ingresa email y contraseÃ±a
8. Click **"ğŸ”“ Iniciar SesiÃ³n"**

Â¡Listo! Ya estÃ¡s dentro.

## ğŸ¯ Paso 6: ConfiguraciÃ³n Inicial

### 6.1 Crear tu primer hÃ¡bito

1. En el menÃº lateral, click **"ğŸ¯ Mis HÃ¡bitos"**
2. PestaÃ±a **"â• Crear HÃ¡bito"**
3. Completa:
   - Nombre: "Aprender Python" (o lo que quieras)
   - Target semanal: 420 minutos (7 horas)
   - MÃ¡ximo semanal: 900 minutos (15 horas)
   - Objetivo total: 100 horas
4. Click **"âœ… Crear Meta"**

### 6.2 Crear tu primera actividad

1. Ve a **"âš¡ Actividades"**
2. PestaÃ±a **"â• Crear Actividad"**
3. Nombre: "Ver tutoriales de Python"
4. Click **"âœ… Crear Actividad"**

### 6.3 Vincular actividad a hÃ¡bito

1. En **"âš¡ Actividades"**, pestaÃ±a **"ğŸ”— Vincular a HÃ¡bitos"**
2. Selecciona actividad: "Ver tutoriales de Python"
3. Marca âœ… "Vincular" en "Aprender Python"
4. Peso: 1.0 (100%)
5. Click **"ğŸ’¾ Guardar VÃ­nculos"**

### 6.4 Registrar tu primera sesiÃ³n

1. Ve a **"ğŸ“ Registrar SesiÃ³n"**
2. Actividad: "Ver tutoriales de Python"
3. DuraciÃ³n: 60 minutos
4. Fecha: (hoy)
5. Mood: 4
6. Productividad: 5
7. Click **"âœ… Registrar SesiÃ³n"**

### 6.5 Ver tu progreso

1. Ve a **"ğŸ“ˆ Dashboard"**
2. Â¡DeberÃ­as ver tus primeros datos!

## âœ… VerificaciÃ³n Final

Si todo estÃ¡ bien, deberÃ­as poder:

- âœ… Iniciar sesiÃ³n
- âœ… Crear hÃ¡bitos
- âœ… Crear actividades
- âœ… Vincular actividades a hÃ¡bitos
- âœ… Registrar sesiones
- âœ… Ver grÃ¡ficos en el Dashboard

## ğŸ› Problemas Comunes

### Error: "Missing credentials"

**Causa**: No encuentra el archivo `.env` o las variables estÃ¡n mal

**SoluciÃ³n**:
1. Verifica que `.env` existe en la raÃ­z del proyecto
2. Abre `.env` y verifica que las credenciales son correctas
3. Reinicia Streamlit (Ctrl+C y volver a ejecutar)

### Error: "Table 'habits' does not exist"

**Causa**: El SQL no se ejecutÃ³ correctamente en Supabase

**SoluciÃ³n**:
1. Ve a Supabase â†’ Table Editor
2. Si no ves las tablas, vuelve a ejecutar el SQL
3. AsegÃºrate de copiar TODO el SQL (incluyendo triggers)

### Error: "Invalid login credentials"

**Causa**: Email o contraseÃ±a incorrectos, o cuenta no verificada

**SoluciÃ³n**:
1. Verifica que escribiste bien el email y contraseÃ±a
2. Revisa tu email y confirma tu cuenta (link de verificaciÃ³n)
3. Si perdiste el email, usa "Forgot password" en Supabase

### Error: "Session not authenticated"

**Causa**: La sesiÃ³n expirÃ³ o no iniciaste sesiÃ³n

**SoluciÃ³n**:
1. Refresca la pÃ¡gina (F5)
2. Vuelve a iniciar sesiÃ³n

### La aplicaciÃ³n no se abre

**Causa**: Puerto 8501 ocupado

**SoluciÃ³n**:
```bash
streamlit run main.py --server.port 8502
```

## ğŸ“ PrÃ³ximos Pasos

Una vez que todo funciona:

1. **Lee el README.md** para entender mejor el sistema
2. **Explora las pÃ¡ginas** y familiarÃ­zate con la UI
3. **Crea tus hÃ¡bitos reales** (no solo de prueba)
4. **Registra sesiones diarias** para ver progreso real
5. **Ajusta pesos** en las vinculaciones segÃºn tu criterio

## ğŸš€ Deployment (Opcional)

Si quieres que tu app estÃ© en internet:

1. Sube el proyecto a GitHub
2. Ve a [share.streamlit.io](https://share.streamlit.io)
3. Conecta tu repo de GitHub
4. En "Advanced settings â†’ Secrets", agrega:
   ```toml
   SUPABASE_URL = "https://..."
   SUPABASE_KEY = "eyJ..."
   ```
5. Deploy

## ğŸ“ Soporte

Si tienes problemas:

1. Revisa esta guÃ­a de nuevo
2. Lee el README.md
3. Abre un issue en GitHub
4. Contacta al autor

---

**Â¡Ã‰xito con tu tracking de hÃ¡bitos!** ğŸ¯
